<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="home.css">
    <link rel="shortcut icon" href="../assets//icon/logo_icon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
	<script src="http://www.chartjs.org/dist/2.7.1/Chart.js"></script>
	<script src="http://www.chartjs.org/samples/latest/utils.js"></script>
	<!-- <style>
		canvas {
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}
	</style> -->



</head>
<body>
    <div id="content">
        <div id="main_container">
            <div id="sidebar">
                <div id="welcome">
                    <span id="main_title">Bem vindo (a), <br><span id="name_user"></span></span>
                </div>
                <div class="navmenu">
                    <div class="navmenu_start">
                        <ul class="navmenu_list">
                            <a href="../home/home.html">
                                <li id="painel" class="selected">
                                    <div class="icone_container_selected">
                                        <img src="../assets/icon/navmenu_painel_selected.svg" class="icone">
                                    </div>
                                    <span class="navmenu_txt_selected">Painel</span>
                                </li>
                            </a>

                            <a href="../calendario/calendario.html">
                                <li id="calendario">
                                    <div class="icone_container">
                                        <img class="icone" src="../assets/icon/navmenu_calendar.svg">
                                    </div>
                                    <span class="navmenu_txt">Calendário</span>
                                </li>
                            </a>

                            <a href="../especies/especies.html">
                                <li id="especies">
                                    <div class="icone_container">
                                        <img src="../assets/icon/navmenu_especies.svg" class="icone">
                                    </div>
                                    <span class="navmenu_txt">Espécies</span>
                                </li>
                            </a>

                            <!-- <a href="#">
                                <li id="duvidas">
                                    <div class="icone_container">
                                        <img src="../assets/icon/navmenu_duvidas.svg" class="icone">
                                    </div>
                                    <span class="navmenu_txt">Dúvidas</span>
                                </li>
                            </a> -->

                            <a href="../ajustes/ajustes.html">
                                <li id="ajustes">
                                    <div class="icone_container">
                                        <img src="../assets/icon/navmenu_config.svg" class="icone">
                                    </div>
                                    <span class="navmenu_txt">Ajustes</span>
                                </li>
                            </a>
                        </ul>
                    </div>
                    <div class="linespace"></div>
                    <div class="navmenu_end">
                        <ul class="navmenu_list">
                            <a href="/Site - HiveWard/public/index.html">
                                <li id="home">
                                    <div class="icone_container">
                                        <img src="../assets/icon/navmenu_home.svg" class="icone">
                                    </div>
                                    <span class="navmenu_txt">Home</span>
                                </li>
                            </a>
                            <a href="/Site - HiveWard/public/index.html">
                                <li id="logout">
                                    <div class="icone_container">
                                        <img src="../assets/icon/navmenu_logout.svg" class="icone">
                                    </div>
                                    <span class="navmenu_txt">Sair</span>
                                </li>
                            </a>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="container2">
                <div class="container2_header">
                    <div class="logo">
                        <img src="../assets/icon/header_logo.svg" class="logotipo">
                        <span id="title">Painel</span>
                    </div>
                    <!-- <div class="inputs">
                        <img src="../assets/icon/header_notification.svg" class="notification">
                        <input type="text" id="pesquisa" placeholder="Pesquisar">
                    </div> -->
                </div>

                <div class="container2_body">
                    <div class="container2_body_left">
                        <div id="dashboard_content">
                            <div class="dashboard_left_header">
                                <div id="temp_media" class="conteudo_condensado">
                                    <img src="../assets/icon/medida_umidade.svg" class="conteudo_condensado_img">
                                    <div class="conteudo_condensado_content">
                                        <span class="subtitle">Umidade média</span>
                                        <label id='averageHumidity'>0.00</label>
                                    </div>
                                </div>
                                <div id="temp_media" class="conteudo_condensado">
                                    <img src="../assets/icon/medida_termometro.svg" class="conteudo_condensado_img">
                                    <div class="conteudo_condensado_content">
                                        <span class="subtitle">Temperatura média</span>
                                        <label id='average'>0.00</label>
                                    </div>
                                </div>
                            </div>

                            <div class="grafico">
                                <!-- local para o gráfico -->
                                <a href="../painel detalhado/painel.html">
                                    <div class="grafico_container">
                                        <span class="subtitle">Clique para acessar detalhes do gráfico</span>
                                            <section style="width:100%">
                                                <canvas id="chart" width="100%" height="80vh"></canvas>
                                            <section>
                                    </div>
                                    <div class="grafico_container">
                                        <span class="subtitle">Clique para acessar detalhes do gráfico</span>
                                            <section style="width:100%">
                                                <canvas id="chart-humidity" width="100%" height="80vh"></canvas>
                                            <section>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="container2_body_right">
                        <div class="colmeias">
                            <div class="colmeias_header">
                                <img src="../assets/icon/home_colmeias_icon.svg" alt="" class="colmeias_header_img">
                                <span class="subtitle">Suas Colmeias</span>
                            </div>
                            <div class="colmeias_links">
                                <a href="../colmeia/colmeia.html">
                                    <div class="medicao_colmeia">
                                        <span class="nome_colmeia">Colmeia A</span>
                                        <div class="medicao_colmeia_content">
                                            <img src="../assets/icon/medida_termometro.svg" class="temp_img">
                                            <span class="temperatura_colmeia" id="tempColmeiaA"></span>
                                            <img src="../assets/icon/medida_umidade.svg" class="umid_img">
                                            <span class="umidade_colmeia" id="umidadeColmeiaA"></span>
                                        </div>
                                        <div class="situacao" id="umidade_colmeia2"></div>
                                    </div>
                                </a>

                                <a href="../colmeia/colmeia.html">
                                    <div class="medicao_colmeia">
                                        <span class="nome_colmeia">Colmeia B</span>
                                        <div class="medicao_colmeia_content">
                                            <img src="../assets/icon/medida_termometro.svg" class="temp_img">
                                            <span class="temperatura_colmeia" id="tempColmeiaB"></span>
                                            <img src="../assets/icon/medida_umidade.svg" class="umid_img">
                                            <span class="umidade_colmeia" id="umidadeColmeiaB"></span>
                                        </div>
                                        <div class="situacao"></div>
                                    </div>
                                </a>

                                <a href="../colmeia/colmeia.html">
                                    <div class="medicao_colmeia">
                                        <span class="nome_colmeia">Colmeia C</span>
                                        <div class="medicao_colmeia_content">
                                            <img src="../assets/icon/medida_termometro.svg" class="temp_img">
                                            <span class="temperatura_colmeia" id="tempColmeiaC"></span>
                                            <img src="../assets/icon/medida_umidade.svg" class="umid_img">
                                            <span class="umidade_colmeia" id="umidadeColmeiaC"></span>
                                        </div>
                                        <div class="situacao"></div>
                                    </div>
                                </a>

                                <a href="../colmeia/colmeia.html">
                                    <div class="medicao_colmeia">
                                        <span class="nome_colmeia">Colmeia D</span>
                                        <div class="medicao_colmeia_content">
                                            <img src="../assets/icon/medida_termometro.svg" class="temp_img">
                                            <span class="temperatura_colmeia" id="tempColmeiaD"></span>
                                            <img src="../assets/icon/medida_umidade.svg" class="umid_img">
                                            <span class="umidade_colmeia" id="umidadeColmeiaD"></span>
                                        </div>
                                        <div class="situacao"></div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Start of hiveward Zendesk Widget script -->
<script id="ze-snippet" src="https://static.zdassets.com/ekr/snippet.js?key=db5199c1-bc54-4d10-a41d-4545f703bf2e"> </script>
<!-- End of hiveward Zendesk Widget script -->
</body>
<script src="../assets/index.js"></script>
</html>
<script>
    name_user.innerHTML = `${sessionStorage.NOME_USUARIO}`;

    // if(document.getElementById('averageHumidity2').value > 70){
    //     document.getElementById('umidade_colmeia2').style.backgroundColor = 'red';
    // }

    setInterval(function(){
        var umidadeA = 0;
        var umidadeB = 0;
        var umidadeC = 0;
        var umidadeD = 0;

        var tempA = 0;
        var tempB = 0;
        var tempC = 0;
        var tempD = 0;

        for(var i = 0; i < 200; i++){
            // UMIDADES COLMEIAS
            umidadeA = Math.random() * (47 - 41) + 41;
            umidadeB = Math.random() * (40.7 - 40) + 40;
            umidadeC = Math.random() * (40.8 - 40) + 40;
            umidadeD = Math.random() * (40.85 - 40) + 40;

            // TEMPERATURAS COLMEIAS
            tempA = Math.random() * (35 - 33) + 33;
            tempB = Math.random() * (35.5 - 34) + 34;
            tempC = Math.random() * (35 - 33) + 33;
            tempD = Math.random() * (35 - 33) + 33;
        }

        // CONDICIONAIS DE ALERTAS
        if(umidadeA > 40){
            document.getElementById('umidade_colmeia2').style.backgroundColor = 'red';
            // alert('Colmeia com alta umidade!');
        }else{
            document.getElementById('umidade_colmeia2').style.backgroundColor = 'green';
        }

        // TEMPERATURA
        document.getElementById('tempColmeiaA').innerHTML = `${tempA.toFixed(1)}`;
        document.getElementById('tempColmeiaB').innerHTML = `${tempB.toFixed(1)}`;
        document.getElementById('tempColmeiaC').innerHTML = `${tempC.toFixed(1)}`;
        document.getElementById('tempColmeiaD').innerHTML = `${tempD.toFixed(1)}`;

        // UMIDADES
        document.getElementById('umidadeColmeiaA').innerHTML = `${umidadeA.toFixed(2)}`;
        document.getElementById('umidadeColmeiaB').innerHTML = `${umidadeB.toFixed(2)}`;
        document.getElementById('umidadeColmeiaC').innerHTML = `${umidadeC.toFixed(2)}`;
        document.getElementById('umidadeColmeiaD').innerHTML = `${umidadeD.toFixed(2)}`;
    }, 3500);

</script>